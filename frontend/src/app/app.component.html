<h1>{{ title }}</h1>
<div class="saved-connections">
  <h2>Saved Connections</h2>
  <div *ngIf="isLoadingSavedConnections" class="loading">Loading...</div>
  <div *ngIf="!isLoadingSavedConnections && !savedConnections.length">
    No saved connections.
  </div>
  <ul>
    <li
      *ngFor="let connection of savedConnections"
      [ngClass]="{ 'is-active': connection.isActive }"
    >
      <span (click)="selectConnection(connection)" class="name">
        {{ connection.topic }} - {{ connection.sub }}
      </span>
      <span *ngIf="connection.isActive" class="bold">[Active]</span>
    </li>
  </ul>
  <div *ngIf="isLoadingMessages" class="mask"></div>
</div>
<div class="add-saved-connection">
  <input
    type="text"
    placeholder="Connection String"
    [(ngModel)]="connection.connString"
  />
  <input type="text" placeholder="Topic Name" [(ngModel)]="connection.topic" />
  <input
    type="text"
    placeholder="Subscription Name"
    [(ngModel)]="connection.sub"
  />
  <button (click)="addSavedConnection()">Add Service Bus Connection</button>
  <div *ngIf="isLoadingMessages" class="mask"></div>
</div>
<h2 *ngIf="!isActiveSavedConnection">
  Please select or add a saved connection.
</h2>
<div *ngIf="isActiveSavedConnection" class="messages">
  <h2>Azure Service Bus Topic Messages</h2>
  <div *ngIf="isLoadingMessages">Loading...</div>
  <div *ngIf="!isLoadingMessages && !messages.length">No messages.</div>
  <ol>
    <li *ngFor="let message of messages">{{ message }}</li>
  </ol>
</div>
<!-- <router-outlet></router-outlet> -->
